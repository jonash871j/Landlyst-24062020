DROP TABLE IF EXISTS City CASCADE;
DROP TABLE IF EXISTS Customer CASCADE;
DROP TABLE IF EXISTS Reservations CASCADE;
DROP TABLE IF EXISTS Room CASCADE;
DROP TABLE IF EXISTS RoomAddition CASCADE;
DROP TABLE IF EXISTS RoomsAdditions CASCADE;

CREATE TABLE City(
	postal varchar(20) PRIMARY KEY,
	city varchar(60) NOT NULL
);

CREATE TABLE Customer (
	email VARCHAR(345) PRIMARY KEY,
	postal VARCHAR(20) NOT NULL,
	firstname VARCHAR(50) NOT NULL,
	lastname VARCHAR(50) NOT NULL,
	phonenumber VARCHAR(20) NOT NULL,
	address VARCHAR(255) NOT NULL,
	country VARCHAR(60) NOT NULL,
	
	FOREIGN KEY (postal) REFERENCES City(postal)
);

CREATE TABLE Room(
	roomnumber INTEGER PRIMARY KEY,
	available BOOL,
	cleaned BOOL,
	price FLOAT DEFAULT 695
);

CREATE TABLE Reservations(
	ordernumber INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY
	(start with 1 increment 1),
	email VARCHAR(345) NOT NULL,
	roomnumber INTEGER NOT NULL,
	startdate DATE NOT NULL,
	enddate DATE NOT NULL,
	reservationsdate DATE,
	
	FOREIGN KEY (email) REFERENCES Customer(email),
	FOREIGN KEY (roomnumber) REFERENCES Room(roomnumber)
);

CREATE TABLE RoomAddition(
	name VARCHAR(50) PRIMARY KEY,
	price FLOAT CHECK(price >= 0)
);

CREATE TABLE RoomsAdditions(
	roomnumber INTEGER,
	name VARCHAR(50),

	FOREIGN KEY (roomnumber) REFERENCES Room(roomnumber),
	FOREIGN KEY (name) REFERENCES RoomAddition(name),
	PRIMARY KEY (roomnumber, name)
);

CREATE TABLE InvoiceQueue (
	ordernumber INTEGER,
	FOREIGN KEY (ordernumber) REFERENCES reservations(ordernumber)
)

/* Rooms */
Insert into Room(roomnumber, available, cleaned) values (100, true, true);
Insert into Room(roomnumber, available, cleaned) values (101, true, true);
Insert into Room(roomnumber, available, cleaned) values (102, true, true);
Insert into Room(roomnumber, available, cleaned) values (103, true, true);
Insert into Room(roomnumber, available, cleaned) values (104, true, true);
Insert into Room(roomnumber, available, cleaned) values (105, true, true);
Insert into Room(roomnumber, available, cleaned) values (106, true, true);
Insert into Room(roomnumber, available, cleaned) values (107, true, true);
Insert into Room(roomnumber, available, cleaned) values (108, true, true);
Insert into Room(roomnumber, available, cleaned) values (109, true, true);
Insert into Room(roomnumber, available, cleaned) values (110, true, true);
Insert into Room(roomnumber, available, cleaned) values (200, true, true);
Insert into Room(roomnumber, available, cleaned) values (201, true, true);
Insert into Room(roomnumber, available, cleaned) values (202, true, true);
Insert into Room(roomnumber, available, cleaned) values (203, true, true);
Insert into Room(roomnumber, available, cleaned) values (204, true, true);
Insert into Room(roomnumber, available, cleaned) values (205, true, true);
Insert into Room(roomnumber, available, cleaned) values (206, true, true);
Insert into Room(roomnumber, available, cleaned) values (207, true, true);
Insert into Room(roomnumber, available, cleaned) values (208, true, true);
Insert into Room(roomnumber, available, cleaned) values (209, true, true);
Insert into Room(roomnumber, available, cleaned) values (300, true, true);
Insert into Room(roomnumber, available, cleaned) values (301, true, true);
Insert into Room(roomnumber, available, cleaned) values (302, true, true);
Insert into Room(roomnumber, available, cleaned) values (303, true, true);
Insert into Room(roomnumber, available, cleaned) values (304, true, true);
Insert into Room(roomnumber, available, cleaned) values (305, true, true);
Insert into Room(roomnumber, available, cleaned) values (306, true, true);
Insert into Room(roomnumber, available, cleaned) values (307, true, true);
Insert into Room(roomnumber, available, cleaned) values (308, true, true);
Insert into Room(roomnumber, available, cleaned) values (309, true, true);
Insert into Room(roomnumber, available, cleaned) values (400, true, true);
Insert into Room(roomnumber, available, cleaned) values (401, true, true);
Insert into Room(roomnumber, available, cleaned) values (402, true, true);
Insert into Room(roomnumber, available, cleaned) values (403, true, true);
Insert into Room(roomnumber, available, cleaned) values (404, true, true);
Insert into Room(roomnumber, available, cleaned) values (405, true, true);
Insert into Room(roomnumber, available, cleaned) values (406, true, true);
Insert into Room(roomnumber, available, cleaned) values (407, true, true);
Insert into Room(roomnumber, available, cleaned) values (408, true, true);
Insert into Room(roomnumber, available, cleaned) values (409, true, true);
Insert into Room(roomnumber, available, cleaned) values (500, true, true);
Insert into Room(roomnumber, available, cleaned) values (501, true, true);
Insert into Room(roomnumber, available, cleaned) values (502, true, true);
Insert into Room(roomnumber, available, cleaned) values (503, true, true);
Insert into Room(roomnumber, available, cleaned) values (504, true, true);
Insert into Room(roomnumber, available, cleaned) values (506, true, true);
Insert into Room(roomnumber, available, cleaned) values (507, true, true);
Insert into Room(roomnumber, available, cleaned) values (508, true, true);
Insert into Room(roomnumber, available, cleaned) values (509, true, true);
Insert into Room(roomnumber, available, cleaned) values (510, true, true);

/* Room Additions */
INSERT INTO RoomAddition(name, price)
VALUES ('Altan', 150);
INSERT INTO RoomAddition(name, price)
VALUES ('Dobbeltseng', 200);
INSERT INTO RoomAddition(name, price)
VALUES ('2 enkeltsenge', 200);
INSERT INTO RoomAddition(name, price)
VALUES ('Badekar', 50);
INSERT INTO RoomAddition(name, price)
VALUES ('Jacuzzi', 175);
INSERT INTO RoomAddition(name, price)
VALUES ('Eget køkken', 345);

/* 100 - 110 */
/* 100 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (100, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (100, 'Badekar');

/* 101 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (101, 'Dobbeltseng');

/* 102 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (102, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (102, 'Badekar');

/* 103 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (103, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (103, 'Badekar');

/* 104 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (104, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (104, 'Badekar');

/* 105 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (105, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (105, 'Badekar');

/* 106 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (106, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (106, 'Badekar');

/* 107 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (107, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (107, 'Badekar');

/* 108 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (108, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (108, 'Badekar');

/* 109 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (109, 'Dobbeltseng');

/* 110 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (110, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES (110, 'Badekar');

/* 200 - 209 */
/* 200 */
insert into RoomsAdditions(roomnumber, name) values (200, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (200, 'Altan');
insert into RoomsAdditions(roomnumber, name) values (200, 'Jacuzzi');

/* 201 */
insert into RoomsAdditions(roomnumber, name) values (201, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (201, 'Badekar');

/* 202 */
insert into RoomsAdditions(roomnumber, name) values (202, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (202, 'Badekar');

/* 203 */
insert into RoomsAdditions(roomnumber, name) values (203, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (203, 'Badekar');

/* 204 */
insert into RoomsAdditions(roomnumber, name) values (204, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (204, 'Badekar');

/* 205 */
insert into RoomsAdditions(roomnumber, name) values (205, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (205, 'Jacuzzi');
insert into RoomsAdditions(roomnumber, name) values (205, 'Altan');
insert into RoomsAdditions(roomnumber, name) values (205, 'Eget køkken');

/* 206 */
insert into RoomsAdditions(roomnumber, name) values (206, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (206, 'Badekar');

/* 207 */
insert into RoomsAdditions(roomnumber, name) values (207, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (207, 'Badekar');

/* 208 */
insert into RoomsAdditions(roomnumber, name) values (208, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (208, 'Badekar');

/* 209 */
insert into RoomsAdditions(roomnumber, name) values (209, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (209, 'Badekar');
insert into RoomsAdditions(roomnumber, name) values (209, 'Jacuzzi');

/* 300 - 309 */
/* 300 */
insert into RoomsAdditions(roomnumber, name) values (300, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (300, 'Altan');
insert into RoomsAdditions(roomnumber, name) values (300, 'Jacuzzi');

/* 301 */
insert into RoomsAdditions(roomnumber, name) values (301, '2 enkeltsenge');
insert into RoomsAdditions(roomnumber, name) values (301, 'Badekar');

/* 302 */
insert into RoomsAdditions(roomnumber, name) values (302, 'Badekar');
insert into RoomsAdditions(roomnumber, name) values (302, 'Dobbeltseng');

/* 303 */
insert into RoomsAdditions(roomnumber, name) values (303, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (303, 'Badekar');

/* 304 */
insert into RoomsAdditions(roomnumber, name) values (304, 'Badekar');
insert into RoomsAdditions(roomnumber, name) values (304, '2 enkeltsenge');

/* 305 */
insert into RoomsAdditions(roomnumber, name) values (305, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (305, 'Jacuzzi');
insert into RoomsAdditions(roomnumber, name) values (305, 'Altan');
insert into RoomsAdditions(roomnumber, name) values (305, 'Eget køkken');

/* 306 */
insert into RoomsAdditions(roomnumber, name) values (306, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (306, 'Eget køkken');

/* 307 */
insert into RoomsAdditions(roomnumber, name) values (307, 'Badekar');
insert into RoomsAdditions(roomnumber, name) values (307, 'Dobbeltseng');

/* 308 */
insert into RoomsAdditions(roomnumber, name) values (308, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (308, 'Badekar');

/* 309 */
insert into RoomsAdditions(roomnumber, name) values (309, 'Badekar');
insert into RoomsAdditions(roomnumber, name) values (309, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (309, 'Jacuzzi');


/* 400 */
/* 400 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(400, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(400, 'Altan');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(400, 'Jacuzzi');

/* 401 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(401, 'Altan');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(401, 'Badekar');

/* 402 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(402, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(402, 'Badekar');

/* 403 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(403, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(403, 'Badekar');

/* 404 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(404, 'Badekar');

/* 405 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(405, 'Jacuzzi');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(405, 'Dobbeltseng');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(405, 'Altan');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(405, 'Eget køkken');

/* 406 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(406, 'Altan');

/* 407 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(407, 'Altan');

/* 409 */
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(409, 'Jacuzzi');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(409, 'Badekar');
INSERT INTO RoomsAdditions(roomnumber, name)
VALUES(409, 'Dobbeltseng');


/* 500 - 510 */
/* 500 */
insert into RoomsAdditions(roomnumber, name) values (500, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (500, 'Altan');
insert into RoomsAdditions(roomnumber, name) values (500, 'Jacuzzi');

/* 501 */
insert into RoomsAdditions(roomnumber, name) values (501, '2 enkeltsenge');
insert into RoomsAdditions(roomnumber, name) values (501, 'Badekar');

/* 502 */
insert into RoomsAdditions(roomnumber, name) values (502, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (502, 'Badekar');

/* 503 */
insert into RoomsAdditions(roomnumber, name) values (503, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (503, 'Badekar');

/* 504 */
insert into RoomsAdditions(roomnumber, name) values (504, 'Badekar');

/* 506 */
insert into RoomsAdditions(roomnumber, name) values (506, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (506, 'Altan');

/* 507 */
insert into RoomsAdditions(roomnumber, name) values (507, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (507, 'Badekar');

/* 508 */
insert into RoomsAdditions(roomnumber, name) values (508, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (508, 'Badekar');

/* 509 */
insert into RoomsAdditions(roomnumber, name) values (509, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (509, 'Badekar');

/* 510 */
insert into RoomsAdditions(roomnumber, name) values (510, 'Dobbeltseng');
insert into RoomsAdditions(roomnumber, name) values (510, 'Badekar');
